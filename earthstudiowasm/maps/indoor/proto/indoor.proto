syntax = "editions";

package maps.indoor;

import "geostore/base/proto/point.proto";
import "geostore/base/proto/rect.proto";
import "maps/tactile/api/entity-details-common.proto";
import "net/proto2/bridge/proto/message_set.proto";
import "net/proto2/contrib/js_proto/public/field_annotations.proto";

option objc_class_prefix = "GMIND";
option java_multiple_files = true;
option java_package = "com.google.maps.indoor.proto";

message IndoorBuildingProto {
    optional string id = 1;
    repeated IndoorLevelProto level = 2;
    optional int32 default_level_index = 3 [default = 0];
    optional bool underground = 4 [default = false];
    optional geostore.PointProto center = 5;
    optional int32 min_rendering_zoom = 6;
    optional int32 min_floorpicker_zoom = 8;
    optional IndoorBuildingDirectoryMetadata directory_metadata = 7;
    
    extend .proto2.bridge.MessageSet {
        optional IndoorBuildingProto message_set_extension = 19934258;
    }
}

message IndoorLevelProto {
    optional string id = 1;
    repeated string enclosing_building = 2;
    optional string name = 3;
    optional string short_name = 4;
    optional sint32 average_elevation_meters = 5;
    optional sint32 number_e3 = 8;
    optional geostore.RectProto preferred_viewport = 7;
}

message IndoorRelationProto {
    repeated IndoorLevelReference on_level = 2;
    repeated string level_id = 1 [deprecated = true];
    
    extend .proto2.bridge.MessageSet {
        optional IndoorRelationProto message_set_extension = 44723932;
    }
}

message IndoorLevelReference {
    optional string feature_id = 1;
    optional sint32 number_e3 = 2;
}

message IndoorInteractiveEntityProto {
    optional maps_tactile.Entity entity = 3;
    optional string level_id = 4;
    optional string feature_id = 1;
    optional string name = 2;
    
    extend .proto2.bridge.MessageSet {
        optional IndoorInteractiveEntityProto message_set_extension = 52616213;
    }
}

message IndoorBuildingDirectoryMetadata {
    optional IndoorInteractiveEntityProto primary_occupant_poi = 1;
}
