syntax = "editions";

package geo.ar;

import "java/com/google/apps/jspb/jspb.proto";
import "storage/datapol/annotations/proto/semantic_annotations.proto";

option objc_class_prefix = "GEOARL";

message LatLngAlt {
    optional double lat = 1;
    optional double lng = 2;
    optional double alt = 3;
}

message Orientation {
    optional double roll_deg = 1;
    optional double pitch_deg = 2;
    optional double yaw_deg = 3;
}

message Pose {
    optional LatLngAlt location = 1;
    optional Orientation orientation = 2;
}

message Vector3dProto {
    optional double x = 1;
    optional double y = 2;
    optional double z = 3;
}

message QuaternionProto {
    optional double x = 1;
    optional double y = 2;
    optional double z = 3;
    optional double w = 4 [default = 1];
}

message RigidTransformProto {
    optional Vector3dProto translation = 3;
    optional QuaternionProto rotation = 4;
}

message ReferenceFrame {
    optional CommonFrame frame = 1;
    enum CommonFrame {
        UNKNOWN_FRAME = 0;
        GEO_ALIGNED = 1;
        LOCAL = 2;
        HOTSPOT = 3;
    }
    
    optional bytes reference_frame_context = 3;
}

message ReferenceFrameAndState {
    optional ReferenceFrame reference_frame = 1;
    optional bytes server_state = 2;
}

message ServerState {
    repeated LocalizerState localizer_states = 1;
    message LocalizerState {
        optional string localizer_name = 1;
        optional bytes state = 2;
    }
}
